<div class="primary-nav-container">
  <h1><%= @sensor.name %></h1>
  <%= link_to 'Edit', edit_sensor_path(@sensor), class: 'btn' %>
  <%= link_to 'Year', sensor_path(@sensor, timespan: 'year'), class: 'btn' %>
  <%= link_to 'Week', sensor_path(@sensor, timespan: 'week'), class: 'btn' %>
  <%= link_to 'Day', sensor_path(@sensor, timespan: 'day'), class: 'btn' %>
</div>
<div class="chart-container-full">
  <%= area_chart @data %>
</div>

<ul class="horizontal-grid">
  <li class="sensor-readout-horizontal">
    <h3>Average</h3>
    <p class="value"><%= @sensor.data_points.average(:value).to_i %><%= @sensor.units %></p>
  </li>
  <li class="sensor-readout-horizontal">
    <h3>Maximum</h3>
    <p class="value"><%= @sensor.data_points.maximum(:value) %><%= @sensor.units %></p>
  </li>
  <li class="sensor-readout-horizontal">
    <h3>Minimum</h3>
    <p class="value"><%= @sensor.data_points.minimum(:value) %><%= @sensor.units %></p>
  </li>
</ul>

<% unless @sensor.events.empty? %>
  <h2>Events</h2>
  <table>
    <% @sensor.events.each do |event| %>
      <tr>
        <td><%= event.created_at %></td>
        <td><%= event.event_type %></td>
      </tr>
    <% end %>
  </table>
<% end %>
<p></p>

